jQuery(function($){function e(e,n){$.post("/api/home-finder/properties/"+e+"/"+n)}function n(){var e=$("#modal-account"),n=e.find("div.account-loading-screen");n.show(),e.find("div.modal-content div.child-page-content").remove(),$.ajax({type:"GET",url:"/api/home-finder/account-page",data:{},error:function(){e.find("div.modal-content div.primary-content").after('<p>Failed to load Account Information. Please try again later. If it fails again, please let us know. <a href="/contact/">Contact Page</a></p>')},success:function(t){var a=t.rsp;n.hide(),e.find("div.modal-content div.primary-content").after(a),$(".saved-listings-slider").slick({infinite:!1,slidesToShow:3,slidesToScroll:1,autoplay:!1,autoplaySpeed:8e3,variableWidth:!0})}})}function t(){$("a.color-box-single").colorbox({maxWidth:"95%"})}$(document).ready(function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"IE8",languagePath:"/js/lib/outdatedbrowser/lang/en.html"})}),$(document).on("click",".video-play",function(e){return e.preventDefault(),createPopup($(this)," "),!1}),!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():e.smartquotes=n()}(this,function(){function e(n){return"undefined"==typeof n?e.element(document.body):"string"==typeof n?e.string(n):n instanceof HTMLElement?e.element(n):void 0}return e.string=function(e){return e.replace(/'''/g,"‴").replace(/(\W|^)"(\S)/g,"$1“$2").replace(/(\u201c[^"]*)"([^"]*$|[^\u201c"]*\u201c)/g,"$1”$2").replace(/([^0-9])"/g,"$1”").replace(/''/g,"″").replace(/(\W|^)'(\S)/g,"$1‘$2").replace(/([a-z])'([a-z])/gi,"$1’$2").replace(/((\u2018[^']*)|[a-z])'([^0-9]|$)/gi,"$1’$3").replace(/(\u2018)([0-9]{2}[^\u2019]*)(\u2018([^0-9]|$)|$|\u2019[a-z])/gi,"’$2$3").replace(/(\B|^)\u2018(?=([^\u2019]*\u2019\b)*([^\u2019\u2018]*\W[\u2019\u2018]\b|[^\u2019\u2018]*$))/gi,"$1’").replace(/'/g,"′")},e.element=function(n){function t(n){if(-1===["CODE","PRE","SCRIPT","STYLE"].indexOf(n.nodeName))for(var t=n.childNodes,o=0;o<t.length;o++){var i=t[o];i.nodeType===a&&(i.nodeValue=e.string(i.nodeValue))}}var a=Element.TEXT_NODE||3;t(n);for(var o=n.getElementsByTagName("*"),i=0;i<o.length;i++)t(o[i])},e}),$.each($("div.slider-lg"),function(e,n){$(n).bxSlider({slideWidth:300,minSlides:2,maxSlides:5,moveSlides:1,slideMargin:15,pager:!1,nextSelector:$(n).parent().find("span.next-lg"),prevSelector:$(n).parent().find("span.prev-lg"),nextText:"",prevText:"",preloadImages:"visible"})}),$(".slider-sm").slick({dots:!1,infinite:!0,speed:800,fade:!0,arrows:!0,prevArrow:'<span class="prev-sm"></span>',nextArrow:'<span class="next-sm"></span>',cssEase:"linear",lazyLoad:"ondemand"}),$(".match-height").length>0&&$(".match-height").matchHeight(),$(".expand-link").click(function(){$(this).hide(),$(this).closest("div.child-content").find("span.more-content").show()}),$("a[href\\*=\\#]:not([href=\\#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}});var a=new Menu({wrapper:"#o-wrapper",type:"slide-right",menuOpenerClass:".c-button",maskId:"#c-mask"}),o=$("#c-button--slide-right,div.open-menu");o.on("click",function(e){return e.preventDefault(),a.open(),!1}),$(window).scroll(function(){var e=$(window).scrollTop();e>=250?$(".menu-icon").addClass("scroll"):$(".menu-icon").removeClass("scroll")}),$("#modal-account").on("show.bs.modal",function(e){var n=$("div.modal");$.each(n,function(e,n){($(n).data("bs.modal")||{}).isShown===!0&&$(n).modal("hide")})}),$(document).on("click","a.showAccountPage",function(){var e=$("#modal-account");return("undefined"==typeof(e.data("bs.modal")||{}).isShown||(e.data("bs.modal")||{}).isShown===!1)&&(e.modal("show"),n(),!1)}),$(document).on("click","#account-saved-listings a.account-unsave-listing",function(){var n=$(this).attr("data-property-id"),t=$(this).parent().attr("data-slick-index");return confirm("Are you sure?")&&$(".saved-listings-slider").slick("slickRemove",t),e(n,"un-save"),!1}),$(document).on("click","a.accountUnSaveSearch",function(){var e=$(this).attr("data-un-save-link"),n=parseInt($("#saveSearchSection").find("a.showAccountPage").text().replace("(","").replace(")",""));return n--,$("#saveSearchSection").find("a.showAccountPage").text("("+n+")"),$(this).parent().remove(),$.post(e,{},function(e){}),!1}),$(document).on("click","#notification-options form button",function(){var e=$(this).parent().parent().find('input[type="radio"]:checked').val(),n=$(this).parent().find("span.error-message"),t=$(this).parent().find("span.success-message"),a=$(this),o=$(this).text();return a.text("Updating..."),a.prop("disabled",!0),$.ajax({type:"POST",url:"/api/home-finder/save-notification-option",data:{choice:e},error:function(e){t.hide(),n.text(e.rsp),n.show(),a.text(o),a.prop("disabled",!1)},success:function(e){n.hide(),t.show(),a.text(o),a.prop("disabled",!1)}}),!1}),$(document).on("click","#account-register form button",function(){var e=$(this).parent().find('input[name="email"]').val(),t=$(this).parent().find("span.error-message"),a=$(this).parent().find("span.success-message"),o=$(this),i=$(this).text();return o.text("Signing in..."),o.prop("disabled",!0),$.ajax({type:"POST",url:"/api/home-finder/sign-in",data:{email:e},error:function(e){if("undefined"!=typeof e.responseJSON)switch(e.responseJSON.status){case 500:default:t.text("Failed to login or create account. Please try again. If it still fails, go to the contact page and let us know. Thanks!")}t.show(),o.text(i),o.prop("disabled",!1)},success:function(e){t.hide(),n(),"undefined"!=typeof DIG&&"undefined"!==DIG.isHomeFinderPage&&DIG.isHomeFinderPage===!0&&$("#modal-account").on("hide.bs.modal",function(){location.reload()})}}),!1}),$(document).on("keypress","#footer-search",function(e){if(13===e.which){var n=$(this).val();window.location="/?s="+n}}),t(),$(document).ready(function(){$("#map").addClass("scrolloff"),$("#overlay").on("mouseup",function(){$("#map").addClass("scrolloff")}),$("#overlay").on("mousedown",function(){$("#map").removeClass("scrolloff")}),$("#map").mouseleave(function(){$("#map").addClass("scrolloff")})})});