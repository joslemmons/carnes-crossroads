jQuery(function($){function e(e,n){$.post("/api/home-finder/properties/"+e+"/"+n)}function n(){var e=$("#modal-account");$.ajax({type:"GET",url:"/api/home-finder/account-page",data:{},error:function(){e.find("div.modal-content div.primary-content").after('<p>Failed to load Account Information. Please try again later. If it fails again, please let us know. <a href="/contact/">Contact Page</a></p>')},success:function(n){var t=n.rsp;e.find("div.modal-content div.child-page-content").remove(),e.find("div.modal-content div.primary-content").after(t),$(".saved-listings-slider").slick({infinite:!1,slidesToShow:3,slidesToScroll:1,autoplay:!1,autoplaySpeed:8e3,variableWidth:!0})}})}$(document).on("click",".video-play",function(e){return e.preventDefault(),createPopup($(this)," "),!1}),$.each($("div.slider-lg"),function(e,n){$(n).bxSlider({slideWidth:325,minSlides:2,maxSlides:5,moveSlides:1,slideMargin:15,pager:!1,nextSelector:$(n).parent().find("span.next-lg"),prevSelector:$(n).parent().find("span.prev-lg"),nextText:"",prevText:""})}),$(".slider-sm").slick({dots:!1,infinite:!0,speed:800,fade:!0,arrows:!0,prevArrow:'<span class="prev-sm"></span>',nextArrow:'<span class="next-sm"></span>',cssEase:"linear"}),$(".match-height").length>0&&$(".match-height").matchHeight(),$(".expand-link").click(function(){$(this).hide(),$(this).closest("div.child-content").find("span.more-content").show()}),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}});var t=new Menu({wrapper:"#o-wrapper",type:"slide-right",menuOpenerClass:".c-button",maskId:"#c-mask"}),a=$("#c-button--slide-right,div.open-menu");a.on("click",function(e){return e.preventDefault(),t.open(),!1}),$(window).scroll(function(){var e=$(window).scrollTop();e>=250?$(".menu-icon").addClass("scroll"):$(".menu-icon").removeClass("scroll")}),$("#modal-account").on("show.bs.modal",function(e){var n=$("div.modal");$.each(n,function(e,n){($(n).data("bs.modal")||{}).isShown===!0&&$(n).modal("hide")})}),$(document).on("click","a.showAccountPage",function(){var e=$("#modal-account");return"undefined"!=typeof(e.data("bs.modal")||{}).isShown&&(e.data("bs.modal")||{}).isShown!==!1?!1:(e.modal("show"),n(),!1)}),$(document).on("click","#account-saved-listings a.account-unsave-listing",function(){var n=$(this).attr("data-property-id"),t=$(this).parent().attr("data-slick-index");return confirm("Are you sure?")&&$(".saved-listings-slider").slick("slickRemove",t),e(n,"un-save"),!1}),$(document).on("click","a.accountUnSaveSearch",function(){var e=$(this).attr("data-un-save-link"),n=parseInt($("#saveSearchSection").find("a.showAccountPage").text().replace("(","").replace(")",""));return n--,$("#saveSearchSection").find("a.showAccountPage").text("("+n+")"),$(this).parent().remove(),$.post(e,{},function(e){}),!1}),$(document).on("click","#notification-options form button",function(){var e=$(this).parent().find('input[type="radio"]:checked').val(),n=$(this).parent().find("span.error-message"),t=$(this).parent().find("span.success-message");return $.ajax({type:"POST",url:"/api/home-finder/save-notification-option",data:{choice:e},error:function(e){t.hide(),n.text(e.rsp),n.show()},success:function(e){n.hide(),t.show()}}),!1}),$(document).on("click","#account-register form button",function(){var e=$(this).parent().find('input[name="email"]').val(),t=$(this).parent().find("span.error-message"),a=$(this).parent().find("span.success-message"),i=$(this),o=$(this).text();return i.text("Signing in..."),i.prop("disabled",!0),$.ajax({type:"POST",url:"/api/home-finder/sign-in",data:{email:e},error:function(e){if("undefined"!=typeof e.responseJSON)switch(e.responseJSON.status){case 500:default:t.text("Failed to login or create account. Please try again. If it still fails, go to the contact page and let us know. Thanks!")}t.show(),i.text(o),i.prop("disabled",!1)},success:function(e){t.hide(),n(),"undefined"!=typeof DIG&&"undefined"!==DIG.isHomeFinderPage&&DIG.isHomeFinderPage===!0&&$("#modal-account").on("hide.bs.modal",function(){location.reload()})}}),!1}),$(document).on("keypress","#footer-search",function(e){if(13===e.which){var n=$(this).val();window.location="/?s="+n}})});